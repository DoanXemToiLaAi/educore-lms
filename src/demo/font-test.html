<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Font Test - Ti·∫øng Vi·ªát</title>
    <link rel="stylesheet" href="../styles/vietnamese-fonts.css">
    <style>
        body {
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
            font-family: var(--font-primary);
        }
        
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 40px;
            border-bottom: 2px solid #eee;
            padding-bottom: 20px;
        }
        
        .font-sample {
            margin: 30px 0;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background: #fafafa;
        }
        
        .font-name {
            font-weight: bold;
            color: #333;
            margin-bottom: 15px;
            font-size: 18px;
        }
        
        .sample-text {
            line-height: 1.6;
            margin: 10px 0;
        }
        
        .size-16 { font-size: 16px; }
        .size-18 { font-size: 18px; }
        .size-20 { font-size: 20px; }
        .size-24 { font-size: 24px; }
        
        .controls {
            position: fixed;
            top: 20px;
            right: 20px;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            z-index: 1000;
        }
        
        .controls button {
            display: block;
            width: 100%;
            margin: 5px 0;
            padding: 8px 12px;
            border: 1px solid #ddd;
            background: white;
            border-radius: 4px;
            cursor: pointer;
        }
        
        .controls button:hover {
            background: #f0f0f0;
        }
        
        .controls button.active {
            background: #007cba;
            color: white;
        }
    </style>
</head>
<body class="font-loading">
    <div class="controls">
        <button onclick="toggleFontTest()">Toggle Font Test UI</button>
        <button onclick="testAllFonts()">Test All Fonts</button>
        <button onclick="applyBestFont()">Apply Best Font</button>
    </div>

    <div class="test-container">
        <div class="test-header">
            <h1>üî§ Font Test - Ti·∫øng Vi·ªát</h1>
            <p>Ki·ªÉm tra hi·ªÉn th·ªã font ti·∫øng Vi·ªát tr√™n c√°c font kh√°c nhau</p>
        </div>

        <!-- Test String -->
        <div class="font-sample">
            <div class="font-name">Chu·ªói test ti·∫øng Vi·ªát:</div>
            <div class="sample-text">
                <strong>T·∫•t c·∫£ c√°c d·∫•u thanh:</strong><br>
                √°√†·∫£√£·∫°ƒÉ·∫Ø·∫±·∫≥·∫µ·∫∑√¢·∫•·∫ß·∫©·∫´·∫≠√©√®·∫ª·∫Ω·∫π√™·∫ø·ªÅ·ªÉ·ªÖ·ªá√≠√¨·ªâƒ©·ªã√≥√≤·ªè√µ·ªç√¥·ªë·ªì·ªï·ªó·ªô∆°·ªõ·ªù·ªü·ª°·ª£√∫√π·ªß≈©·ª•∆∞·ª©·ª´·ª≠·ªØ·ª±√Ω·ª≥·ª∑·ªπ·ªµƒë<br>
                √Å√Ä·∫¢√É·∫†ƒÇ·∫Æ·∫∞·∫≤·∫¥·∫∂√Ç·∫§·∫¶·∫®·∫™·∫¨√â√à·∫∫·∫º·∫∏√ä·∫æ·ªÄ·ªÇ·ªÑ·ªÜ√ç√å·ªàƒ®·ªä√ì√í·ªé√ï·ªå√î·ªê·ªí·ªî·ªñ·ªò∆†·ªö·ªú·ªû·ª†·ª¢√ö√ô·ª¶≈®·ª§∆Ø·ª®·ª™·ª¨·ªÆ·ª∞√ù·ª≤·ª∂·ª∏·ª¥ƒê
            </div>
        </div>

        <!-- Inter Font Test -->
        <div class="font-sample" style="font-family: 'Inter', sans-serif;">
            <div class="font-name">Inter Font</div>
            <div class="sample-text size-16">
                <strong>16px:</strong> Ch√†o m·ª´ng b·∫°n ƒë·∫øn v·ªõi h·ªá th·ªëng qu·∫£n l√Ω h·ªçc t·∫≠p EduCore. ƒê√¢y l√† m·ªôt n·ªÅn t·∫£ng gi√°o d·ª•c hi·ªán ƒë·∫°i v·ªõi ƒë·∫ßy ƒë·ªß c√°c t√≠nh nƒÉng h·ªó tr·ª£ vi·ªác d·∫°y v√† h·ªçc tr·ª±c tuy·∫øn.
            </div>
            <div class="sample-text size-18">
                <strong>18px:</strong> C√°c t√≠nh nƒÉng ch√≠nh bao g·ªìm: qu·∫£n l√Ω l·ªõp h·ªçc, t·∫°o b√†i ki·ªÉm tra, theo d√µi ti·∫øn ƒë·ªô h·ªçc t·∫≠p, v√† h·ªá th·ªëng b√°o c√°o chi ti·∫øt.
            </div>
            <div class="sample-text size-20">
                <strong>20px:</strong> H·ªá th·ªëng h·ªó tr·ª£ ƒë·∫ßy ƒë·ªß ti·∫øng Vi·ªát v·ªõi c√°c d·∫•u thanh: ·∫Ø ·∫± ·∫≥ ·∫µ ·∫∑ ·∫• ·∫ß ·∫© ·∫´ ·∫≠ ·∫ø ·ªÅ ·ªÉ ·ªÖ ·ªá ·ªë ·ªì ·ªï ·ªó ·ªô ·ªõ ·ªù ·ªü ·ª° ·ª£ ·ª© ·ª´ ·ª≠ ·ªØ ·ª±
            </div>
        </div>

        <!-- Nunito Sans Font Test -->
        <div class="font-sample" style="font-family: 'Nunito Sans', sans-serif;">
            <div class="font-name">Nunito Sans Font</div>
            <div class="sample-text size-16">
                <strong>16px:</strong> Gi√°o d·ª•c l√† n·ªÅn t·∫£ng c·ªßa s·ª± ph√°t tri·ªÉn. V·ªõi c√¥ng ngh·ªá hi·ªán ƒë·∫°i, ch√∫ng ta c√≥ th·ªÉ mang ƒë·∫øn tr·∫£i nghi·ªám h·ªçc t·∫≠p t·ªët nh·∫•t cho h·ªçc sinh.
            </div>
            <div class="sample-text size-18">
                <strong>18px:</strong> C√°c m√¥n h·ªçc ƒë∆∞·ª£c h·ªó tr·ª£: To√°n h·ªçc, VƒÉn h·ªçc, Ti·∫øng Anh, V·∫≠t l√Ω, H√≥a h·ªçc, Sinh h·ªçc, L·ªãch s·ª≠, ƒê·ªãa l√Ω.
            </div>
            <div class="sample-text size-20">
                <strong>20px:</strong> ƒê·∫∑c bi·ªát ch√∫ √Ω ƒë·∫øn c√°c t·ª´ c√≥ d·∫•u: qu√Ω, quy·ªÅn, quy·∫øt, nghi√™m, nghi·ªáp, thi·ªán, thi·∫øt, xu·∫•t, nh·∫≠p.
            </div>
        </div>

        <!-- Source Sans Pro Font Test -->
        <div class="font-sample" style="font-family: 'Source Sans Pro', sans-serif;">
            <div class="font-name">Source Sans Pro Font</div>
            <div class="sample-text size-16">
                <strong>16px:</strong> N·ªÅn t·∫£ng EduCore ƒë∆∞·ª£c thi·∫øt k·∫ø ƒë·ªÉ ph·ª•c v·ª• t·∫•t c·∫£ c√°c c·∫•p h·ªçc t·ª´ ti·ªÉu h·ªçc ƒë·∫øn trung h·ªçc ph·ªï th√¥ng.
            </div>
            <div class="sample-text size-18">
                <strong>18px:</strong> T√≠nh nƒÉng n·ªïi b·∫≠t: AI Tutor th√¥ng minh, Voice-over cho b√†i gi·∫£ng, Camera 360 ƒë·ªô, c√° nh√¢n h√≥a l·ªô tr√¨nh h·ªçc.
            </div>
            <div class="sample-text size-20">
                <strong>20px:</strong> Ki·ªÉm tra d·∫•u thanh ƒë·∫∑c bi·ªát: uy·ªÉn, uy·ªÉn chuy·ªÉn,uy·ªÉn th√¥ng, quy·ªÅn, quy·ªÅn l·ª±c, quy·ªÅn h·∫°n.
            </div>
        </div>

        <!-- System Fonts Test -->
        <div class="font-sample" style="font-family: 'Segoe UI', sans-serif;">
            <div class="font-name">Segoe UI (Windows System Font)</div>
            <div class="sample-text size-16">
                <strong>16px:</strong> Font h·ªá th·ªëng Windows v·ªõi h·ªó tr·ª£ ti·∫øng Vi·ªát t·ªët. Th∆∞·ªùng ƒë∆∞·ª£c s·ª≠ d·ª•ng l√†m fallback font.
            </div>
            <div class="sample-text size-18">
                <strong>18px:</strong> Test c√°c k√Ω t·ª± ƒë·∫∑c bi·ªát: ‚Ç´ (ƒë·ªìng Vi·ªát Nam), ‚Ñ¢ (trademark), ¬© (copyright), ¬Æ (registered).
            </div>
        </div>

        <div class="font-sample" style="font-family: 'Roboto', sans-serif;">
            <div class="font-name">Roboto (Android System Font)</div>
            <div class="sample-text size-16">
                <strong>16px:</strong> Font h·ªá th·ªëng Android, ƒë∆∞·ª£c Google ph√°t tri·ªÉn v·ªõi h·ªó tr·ª£ ƒëa ng√¥n ng·ªØ t·ªët.
            </div>
            <div class="sample-text size-18">
                <strong>18px:</strong> Ki·ªÉm tra ƒë·ªô r√µ n√©t c·ªßa c√°c d·∫•u thanh: ·∫©m, ·∫©m th·ª±c, ·∫©m ∆∞·ªõt, ·∫©m m·ªëc.
            </div>
        </div>

        <!-- Fallback Test -->
        <div class="font-sample" style="font-family: 'NonExistentFont', 'Arial Unicode MS', sans-serif;">
            <div class="font-name">Fallback Font Test (Arial Unicode MS)</div>
            <div class="sample-text size-16">
                <strong>16px:</strong> ƒê√¢y l√† test fallback font khi font ch√≠nh kh√¥ng t·∫£i ƒë∆∞·ª£c. S·ª≠ d·ª•ng Arial Unicode MS.
            </div>
            <div class="sample-text size-18">
                <strong>18px:</strong> C√°c k√Ω t·ª± ph·ª©c t·∫°p: ·∫µ, ·∫∑, ·∫´, ·∫≠, ·ªÖ, ·ªá, ·ªó, ·ªô, ·ª°, ·ª£, ·ªØ, ·ª±, ·ªπ, ·ªµ.
            </div>
        </div>

        <!-- Performance Test -->
        <div class="font-sample">
            <div class="font-name">Performance & Loading Test</div>
            <div id="loadingTest" class="sample-text">
                <p>‚è≥ ƒêang ki·ªÉm tra t·ªëc ƒë·ªô load font...</p>
            </div>
        </div>
    </div>

    <script src="../utils/fontLoader.js"></script>
    <script>
        // Test functions
        async function testAllFonts() {
            const fontLoader = new VietnameseFontLoader();
            const results = [];
            
            for (const font of fontLoader.fonts) {
                const startTime = performance.now();
                const isSupported = await fontLoader.checkFontSupport(font);
                const loadTime = performance.now() - startTime;
                
                results.push({
                    font,
                    supported: isSupported,
                    loadTime: Math.round(loadTime * 100) / 100
                });
            }
            
            console.table(results);
            
            // Update loading test display
            const loadingTest = document.getElementById('loadingTest');
            loadingTest.innerHTML = `
                <h4>K·∫øt qu·∫£ test font:</h4>
                ${results.map(r => `
                    <div style="margin: 5px 0; padding: 8px; background: ${r.supported ? '#e8f5e8' : '#ffe8e8'}; border-radius: 4px;">
                        <strong>${r.font}:</strong> 
                        ${r.supported ? '‚úÖ H·ªó tr·ª£' : '‚ùå Kh√¥ng h·ªó tr·ª£'} 
                        (${r.loadTime}ms)
                    </div>
                `).join('')}
            `;
        }
        
        async function applyBestFont() {
            const fontLoader = new VietnameseFontLoader();
            const bestFont = await fontLoader.applyBestFont();
            alert(`‚úÖ ƒê√£ √°p d·ª•ng font t·ªët nh·∫•t: ${bestFont}`);
        }
        
        function toggleFontTest() {
            const fontLoader = new VietnameseFontLoader();
            fontLoader.createFontTestUI();
        }
        
        // Auto test when page loads
        document.addEventListener('DOMContentLoaded', () => {
            setTimeout(testAllFonts, 1000);
        });
    </script>
</body>
</html>